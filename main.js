(()=>{"use strict";function e(e){const t=document.createElement("div");t.classList.add("tasks-container");const n=document.createElement("div");n.classList.add("tasks");const a=document.createElement("input");a.type="checkbox",a.id=e.id;const o=document.createElement("label");return o.htmlFor=e.id,o.textContent=e.name,t.appendChild(n),n.appendChild(a),n.appendChild(o),t}function t(t){const n=document.querySelector(".task-body");n.innerText="",t.tasks.forEach((t=>{e(t),n.appendChild(e(t))}))}let n,a=localStorage.getItem("myProjectList");function o(){localStorage.setItem("myProjectList",JSON.stringify(a))}a=JSON.parse(a||JSON.stringify([]));const c=()=>{a=a.filter((e=>e.id!==n)),d(a),document.querySelector(".task-body").innerText="",o()},r=e=>{const t=document.querySelector("[data-new-project-input]");if(e.preventDefault(),""===t.value)return void alert("project name cannot be empty");const n={name:t.value,id:Date.now().toString(),tasks:[]};a.push(n),d(a),console.log(a),o(),t.value=null},d=e=>{const n=document.getElementById("project-list");n.innerText="",e.forEach((e=>{const a=(e=>{const t=document.createElement("button");return t.classList.add("button-nav"),t.innerText=e.name,t.dataset.listId=e.id,t})(e);n.appendChild(a),a.addEventListener("click",(()=>{t(e),document.querySelector(".todo-title").innerText=e.name}))}))},s=e=>{document.querySelectorAll(".button-nav").forEach((e=>{e.classList.remove("active")})),"button"===e.target.tagName.toLowerCase()&&(e.target.classList.add("active"),n=e.target.dataset.listId,console.log(n))};document.querySelector("[data-new-project-form]").addEventListener("submit",r),document.querySelector(".navbar").addEventListener("click",s),document.querySelector("[data-project-delete]").addEventListener("click",c),d(a),document.querySelector("[data-create-task-form]").addEventListener("submit",(e=>{const c=document.querySelector("[data-create-task-input]");if(e.preventDefault(),""===c.value)return void alert("Task input cannot be empty");const r={name:c.value,id:Date.now().toString()},d=a.find((e=>e.id===n));void 0!==d?(d.tasks.push(r),c.value=null,t(d),o()):alert("Please choose a project to add your task")}))})();